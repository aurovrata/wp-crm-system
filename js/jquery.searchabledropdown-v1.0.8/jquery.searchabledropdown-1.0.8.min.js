!function(a){function c(b){var c=a[b]={};return a.fn[b]=function(b){b=a.extend(c.defaults,b);var d=this.length;return this.each(function(a){c.execute.call(this,b,d-a)})},c}var b=c("searchable");b.defaults={maxListSize:100,maxMultiMatch:50,exactMatch:!1,wildcards:!0,ignoreCase:!0,warnMultiMatch:"top {0} matches ...",warnNoMatch:"no matches ...",latency:200,zIndex:"auto"},b.execute=function(b,c){function s(){g.css("text-decoration","none"),g.width(g.outerWidth()),g.height(g.outerHeight()),k.css("position","relative"),k.css("width",g.outerWidth()),a.support.msie&&k.css("z-index",c),l.css({position:"absolute",top:0,left:0,width:g.outerWidth(),height:g.outerHeight(),"background-color":"#FFFFFF",opacity:"0.01"}),m.attr("type","text"),m.hide(),m.height(g.outerHeight()),m.css({position:"absolute",top:0,left:0,margin:"0px",padding:"0px","outline-style":"none","border-style":"solid","border-bottom-style":"none","border-color":"transparent","background-color":"transparent"});var d=new Array;d.push("border-left-width"),d.push("border-top-width"),d.push("font-size"),d.push("font-stretch"),d.push("font-variant"),d.push("font-weight"),d.push("color"),d.push("text-align"),d.push("text-indent"),d.push("text-shadow"),d.push("text-transform"),d.push("padding-left"),d.push("padding-top");for(var e=0;e<d.length;e++)m.css(d[e],g.css(d[e]));if(a.support.msie&&parseInt(jQuery.support.version)<8)m.css("padding","0px"),m.css("padding-left","3px"),m.css("border-left-width","2px"),m.css("border-top-width","3px");else if(a.support.chrome)m.height(g.innerHeight()),m.css("text-transform","none"),m.css("padding-left",C(m.css("padding-left"))+3),m.css("padding-top",2);else if(a.support.safari)m.height(g.innerHeight()),m.css("padding-top",2),m.css("padding-left",3),m.css("text-transform","none");else if(a.support.opera){m.height(g.innerHeight());var f=C(g.css("padding-left"));m.css("padding-left",1==f?f+1:f),m.css("padding-top",0)}else a.support.mozilla?(m.css("padding-top","0px"),m.css("border-top","0px"),m.css("padding-left",C(g.css("padding-left"))+3)):(m.css("padding-left",C(g.css("padding-left"))+3),m.css("padding-top",C(g.css("padding-top"))+1));var h=C(g.css("padding-left"))+C(g.css("padding-right"))+C(g.css("border-left-width"))+C(g.css("border-left-width"))+23;m.width(g.outerWidth()-h);var i=g.css("width"),j=g.outerWidth();g.css("width","auto"),j=j>g.outerWidth()?j:g.outerWidth(),g.css("width",i),n.hide();g.get(0).length;q.wpcrmself,n.css({position:"absolute",top:g.outerHeight(),left:0,width:j,border:"1px solid #333","font-weight":"normal",padding:0,"background-color":g.css("background-color"),"text-transform":g.css("text-transform")});var p=/^\d+$/.test(g.css("z-index"))?g.css("z-index"):1;b.zIndex&&/^\d+$/.test(b.zIndex)&&(p=b.zIndex),l.css("z-index",p.toString(10)),m.css("z-index",(p+1).toString(10)),n.css("z-index",(p+2).toString(10)),g.wrap(k),g.after(l),g.after(m),g.after(n)}function t(a,b,c){return!g.attr("disabled")&&(g.prepend("<option />"),"undefined"==typeof c&&(j=!j),q.reset(),x(),y(),b&&n.show(),m.show(),m.focus(),m.select(),g.get(0).selectedIndex=0,void("undefined"!=typeof a&&a.stopPropagation()))}function u(a,b){j=!1,g.find(":first").remove(),v(),m.hide(),n.hide(),"undefined"!=typeof b&&z(),w(),"undefined"!=typeof a&&a.stopPropagation()}function v(){null!=d&&clearTimeout(d)}function w(){q.selectedIndex()<0||q.selected().get(0).disabled||(g.get(0).selectedIndex=parseInt(n.find(":selected").attr(i)),g.change(),g.data("index",new Number(g.get(0).selectedIndex)))}function x(){q.selectedIndex()>-1&&!q.selected().get(0).disabled?m.val(n.find(":selected").text()):m.val(g.find(":selected").text())}function y(){h.index=q.selectedIndex(),h.options=new Array;for(var a=0;a<n.get(0).options.length;a++)h.options.push(n.get(0).options[a])}function z(){n.empty();for(var a=0;a<h.options.length;a++)n.append(h.options[a]);q.selectedIndex(h.index);h.options.length;q.wpcrmstorage}function A(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","^","$"],c=new RegExp("(\\"+b.join("|\\")+")","g");return a.replace(c,"\\$1")}function B(){if(e==f)return void(d=null);var c=0;e=f,n.hide(),n.empty();var h=A(f);b.exactMatch&&(h="^"+h),b.wildcards&&(h=h.replace(/\\\*/g,".*"),h=h.replace(/\\\?/g,"."));var j=null;b.ignoreCase&&(j="i"),f=new RegExp(h,j);for(var k=1;k<g.get(0).length&&c<b.maxMultiMatch;k++)if(0==f.length||f.test(g.get(0).options[k].text)){var l=a(g.get(0).options[k]).clone().attr(i,k-1);g.data("index")==k&&l.text(g.data("text")),n.append(l),c++}c>=1?q.selectedIndex(0):0==c&&n.append(p),c>=b.maxMultiMatch&&n.append(o);c.length;q.wpcrmmatches,n.show(),d=null}function C(a){try{if(a=parseFloat(a.replace(/[\s]*px/,"")),!isNaN(a))return a}catch(a){}return 0}var d=null,e=null,f=null;if(a.support.msie&&parseInt(jQuery.support.version)<7)return this;if("SELECT"!=this.nodeName||this.size>1)return this;var g=a(this),h={index:-1,options:null},i="lang",j=!1;a.support.chrome=/chrome/.test(navigator.userAgent.toLowerCase()),a.support.chrome&&(a.support.safari=!1),a.meta&&(b=a.extend({},options,g.data()));var k=a("<div/>"),l=a("<div/>"),m=a("<input/>"),n=a("<select/>"),o=a("<option>"+b.warnMultiMatch.replace(/\{0\}/g,b.maxMultiMatch)+"</option>").attr("disabled","true"),p=a("<option>"+b.warnNoMatch+"</option>").attr("disabled","true"),q={option:function(b){return a(n.get(0).options[b])},selected:function(){return n.find(":selected")},selectedIndex:function(a){return a>-1&&(n.get(0).selectedIndex=a),n.get(0).selectedIndex},size:function(a){n.attr("size",Math.max(2,Math.min(a,20)))},reset:function(){if(g.get(0).selectedIndex-1!=g.data("index")){var c=g.get(0).selectedIndex,d=g.get(0).length,e=Math.floor(b.maxMultiMatch/2),f=Math.max(1,c-e),h=Math.min(d,Math.max(b.maxMultiMatch,c+e)),j=c-f;n.empty(),(this.end-this.begin).length;for(var k=f;k<h;k++)n.append(a(g.get(0).options[k]).clone().attr(i,k-1));h>b.maxMultiMatch&&n.append(o),n.get(0).selectedIndex=j}}};s();var r=!1;l.mouseover(function(){r=!0}),l.mouseout(function(){r=!1}),n.mouseover(function(){r=!0}),n.mouseout(function(){r=!1}),m.click(function(a){j?u(a,!0):t(a,!0)}),m.blur(function(a){!r&&j&&u(a,!0)}),g.keydown(function(a){9==a.keyCode||a.shiftKey||a.ctrlKey||a.altKey||m.click()}),g.click(function(a){n.focus()}),n.click(function(a){q.selectedIndex()<0||u(a)}),n.focus(function(a){m.focus()}),n.blur(function(a){r||u(a,!0)}),n.mousemove(function(b){if(a.support.opera&&parseFloat(jQuery.support.version)>=9.8)return!0;var c=Math.floor(parseFloat(/([0-9\.]+)px/.exec(q.option(0).css("font-size")))),d=4;a.support.opera&&(d=2.5),(a.support.safari||a.support.chrome)&&(d=3),c+=Math.round(c/d),q.selectedIndex(Math.floor((b.pageY-n.offset().top+this.scrollTop)/c))}),l.click(function(a){m.click()}),m.keyup(function(c){return jQuery.inArray(c.keyCode,new Array(9,13,16,33,34,35,36,38,40))>-1||(f=a.trim(m.val().toLowerCase()),v(),void(d=setTimeout(B,b.latency)))}),m.keydown(function(a){if(9==a.keyCode&&u(a),!(a.shiftKey||a.ctrlKey||a.altKey)){switch(a.keyCode){case 13:u(a),g.focus();break;case 27:u(a,!0),g.focus();break;case 33:q.selectedIndex()-n.attr("size")>0?q.selectedIndex(q.selectedIndex()-n.attr("size")):q.selectedIndex(0),x();break;case 34:q.selectedIndex()+n.attr("size")<n.get(0).options.length-1?q.selectedIndex(q.selectedIndex()+n.attr("size")):q.selectedIndex(n.get(0).options.length-1),x();break;case 38:q.selectedIndex()>0&&(q.selectedIndex(q.selectedIndex()-1),x());break;case 40:q.selectedIndex()<n.get(0).options.length-1&&(q.selectedIndex(q.selectedIndex()+1),x());break;default:return!0}return!1}})}}(jQuery);
